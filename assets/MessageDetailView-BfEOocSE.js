import"./arrow-back-BN_xzskX.js";import{s as b,g as w,h as C,j as M,k as $,d as L,m as V,p as B,c as n,o as s,n as c,u as a,f as z,a as e,e as u,t as m,F as _,q as h,v,x as D,_ as R,y as I,z as P,G as x,A as S,l as g,w as y,r as T,B as N}from"./index-Ba872Nz0.js";import{M as U,c as q}from"./height-4gMMVAyc.js";import{_ as A}from"./UserAvatar.vue_vue_type_script_setup_true_lang-BGgSBCfs.js";import{_ as F}from"./UserTag.vue_vue_type_style_index_0_lang-DqmqJ0Rp.js";let f=class extends M{render(){return $('<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>')}};f.styles=b;f=w([C("mdui-icon-more-vert")],f);let k=class extends M{render(){return $('<path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"/>')}};k.styles=b;k=w([C("mdui-icon-send")],k);const G={key:0,class:"message-nickname"},j={key:1,class:"message-time"},E={class:"message-card"},H=["href"],W=L({__name:"MessagePiece",props:{avatarURL:{},nickname:{},userTag:{},time:{},alignment:{},backgroundColor:{},href:{},routePath:{}},setup(l){const t=l;var o=V(),i=B(()=>t.alignment=="right");return(r,d)=>(s(),n("div",{class:"message-piece",style:c({flexDirection:a(i)?"row-reverse":"row",paddingLeft:a(i)?"0":"10px",paddingRight:a(i)?"10px":"0"})},[z(A,{class:"avatar",url:t.avatarURL},null,8,["url"]),e("div",{class:"message-box",style:c({textAlign:t.alignment})},[e("div",{class:"message-head",style:c({flexDirection:a(i)?"row-reverse":"row"})},[t.nickname?(s(),n("div",G,m(t.nickname),1)):u("",!0),(s(!0),n(_,null,h(t.userTag,p=>(s(),v(F,{tag:p.tag,color:p.color},null,8,["tag","color"]))),256)),t.time?(s(),n("div",j,m(t.time),1)):u("",!0)],4),e("div",E,[e("mdui-card",{onClick:d[0]||(d[0]=p=>t.routePath?a(o).push(t.routePath):void 0),style:c({backgroundColor:t.backgroundColor,cursor:t.routePath?"pointer":""}),href:t.href},[D(r.$slots,"default",{},void 0,!0)],12,H)])],4)],4))}}),J=R(W,[["__scopeId","data-v-0dc486cf"]]),K={class:"content"},O={class:"chat-box"},Q={"scroll-target":".chat-message-container"},X={class:"chat-message-container"},Y=L({__name:"MessageDetailView",setup(l){return I(),P(()=>setTimeout(x,0,".chat-message-container")),S(()=>x(".chat-message-container")),(t,o)=>{const i=T("RouterLink");return s(),n("div",K,[o[3]||(o[3]=e("h1",null,"站内消息",-1)),e("div",{class:"chat-container",style:c({height:a(q)+"px"})},[a(g)?(s(),v(U,{key:0,style:c({width:a(g)?"250px":"100%",minWidth:a(g)?"250px":"100%"})},null,8,["style"])):u("",!0),e("div",O,[e("mdui-top-app-bar",Q,[z(i,{to:"/message"},{default:y(()=>o[0]||(o[0]=[e("mdui-button-icon",null,[e("mdui-icon-arrow-back")],-1)])),_:1,__:[0]}),e("mdui-top-app-bar-title",null," 聊天："+m(t.$route.params.id),1),o[1]||(o[1]=e("mdui-button-icon",null,[e("mdui-icon-more-vert")],-1))]),e("div",X,[(s(!0),n(_,null,h(a(N),r=>(s(),v(J,{alignment:r.me?"right":"left",nickname:r.nickname,time:r.time,backgroundColor:r.me?"rgb(var(--mdui-color-secondary-container))":"rgb(var(--mdui-color-surface-container-low)"},{default:y(()=>[r.messageType=="text"?(s(!0),n(_,{key:0},h(r.text.split(`
`),d=>(s(),n("p",null,m(d),1))),256)):u("",!0)]),_:2},1032,["alignment","nickname","time","backgroundColor"]))),256))]),o[2]||(o[2]=e("mdui-text-field",{placeholder:"发送消息",autosize:"","max-rows":"3"},[e("mdui-button-icon",{slot:"end-icon"},[e("mdui-icon-send")])],-1))])],4)])}}}),ne=R(Y,[["__scopeId","data-v-ed654c30"]]);export{ne as default};
