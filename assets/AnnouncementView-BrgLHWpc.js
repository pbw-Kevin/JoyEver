import"./arrow-back-2Os498lB.js";import{d as w,m as L,c as s,o as t,a as e,e as p,b as C,f as x,t as r,n as g,u as o,x as N,_ as A,C as P,D as k,z as V,G as y,E as B,A as S,v as h,l as f,w as v,r as z,F as l,q as m,H as d}from"./index-Bgua-Nis.js";import{M as D,c as I}from"./height-_03Y7VRz.js";import{_ as M}from"./UserTag.vue_vue_type_style_index_0_lang-i6StIGkt.js";import"./UserAvatar.vue_vue_type_script_setup_true_lang-OjNUG--e.js";const R={class:"announcement-piece"},T={class:"announcement-box"},E={class:"announcement-head"},F={class:"announcement-nickname"},G={key:0,class:"announcement-time"},H={class:"announcement-card"},q=["href"],U=w({__name:"AnnouncementPiece",props:{time:{},href:{},routePath:{}},setup($){const a=$;var u=L();return(i,c)=>(t(),s("div",R,[c[1]||(c[1]=e("mdui-icon-announcement",{class:"avatar"},null,-1)),e("div",T,[e("div",E,[e("div",F,[C(r(i.$t("announcement.title"))+" ",1),x(M,{tag:i.$t("announcement.tags.official"),color:"green"},null,8,["tag"])]),a.time?(t(),s("div",G,r(a.time),1)):p("",!0)]),e("div",H,[e("mdui-card",{onClick:c[0]||(c[0]=n=>a.routePath?o(u).push(a.routePath):void 0),style:g({cursor:a.routePath?"pointer":""}),href:a.href},[N(i.$slots,"default",{},void 0,!0)],12,q)])])]))}}),b=A(U,[["__scopeId","data-v-8c2f66c3"]]),W={class:"content"},j={class:"chat-box"},J={"scroll-target":".chat-box"},K={class:"chat-announcement-container"},O={key:0,class:"new-announcement"},Q={key:1,class:"no-announcement"},X=w({__name:"AnnouncementView",setup($){var a=P(k.value);return V(()=>{a.value=k.value,setTimeout(y,0,".chat-announcement-container"),B(!0)}),S(()=>y(".chat-announcement-container")),(u,i)=>{const c=z("RouterLink");return t(),s("div",W,[e("h1",null,r(u.$t("message.title")),1),e("div",{class:"chat-container",style:g({height:o(I)+"px"})},[o(f)?(t(),h(D,{key:0,style:g({width:o(f)?"250px":"100%",minWidth:o(f)?"250px":"100%"})},null,8,["style"])):p("",!0),e("div",j,[e("mdui-top-app-bar",J,[x(c,{to:"/message"},{default:v(()=>[...i[0]||(i[0]=[e("mdui-button-icon",null,[e("mdui-icon-arrow-back")],-1)])]),_:1}),e("mdui-top-app-bar-title",null,r(u.$t("announcement.title")),1)]),e("div",K,[(t(!0),s(l,null,m(o(d).filter(n=>n.time<o(a)),n=>(t(),h(b,{time:n.time.toLocaleString("zh-CN")},{default:v(()=>[(t(!0),s(l,null,m(n.text.split(`
`),_=>(t(),s("p",null,r(_),1))),256))]),_:2},1032,["time"]))),256)),o(d).filter(n=>n.time>o(a)).length>0?(t(),s("div",O,[C(r(u.$t("announcement.new.title"))+" ",1),i[1]||(i[1]=e("mdui-icon-keyboard-arrow-down",null,null,-1))])):p("",!0),(t(!0),s(l,null,m(o(d).filter(n=>n.time>o(a)),n=>(t(),h(b,{time:n.time.toLocaleString("zh-CN")},{default:v(()=>[(t(!0),s(l,null,m(n.text.split(`
`),_=>(t(),s("p",null,r(_),1))),256))]),_:2},1032,["time"]))),256)),o(d).length==0?(t(),s("p",Q,r(u.$t("announcement.no.title")),1)):p("",!0)])])],4)])}}}),oe=A(X,[["__scopeId","data-v-ef2fb303"]]);export{oe as default};
