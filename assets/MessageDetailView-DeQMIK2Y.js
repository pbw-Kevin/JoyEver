import"./arrow-back-CrT4TbDP.js";import{s as w,g as C,h as M,j as $,k as L,d as z,m as B,p as D,c as r,o as s,n as l,u as o,f as R,a as e,e as c,t as m,F as _,q as h,v,x as I,_ as V,y as P,z as S,G as x,A as T,l as g,w as y,r as N,B as b}from"./index-D2whVdz8.js";import{M as U,c as q}from"./height-Bh8DR5nJ.js";import{_ as A}from"./UserAvatar.vue_vue_type_script_setup_true_lang-D1ujuP8C.js";import{_ as F}from"./UserTag.vue_vue_type_style_index_0_lang-Dla5qH5b.js";let f=class extends ${render(){return L('<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>')}};f.styles=w;f=C([M("mdui-icon-more-vert")],f);let k=class extends ${render(){return L('<path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"/>')}};k.styles=w;k=C([M("mdui-icon-send")],k);const G={key:0,class:"message-nickname"},j={key:1,class:"message-time"},E={class:"message-card"},H=["href"],W=z({__name:"MessagePiece",props:{avatarURL:{},nickname:{},userTag:{},time:{},alignment:{},backgroundColor:{},href:{},routePath:{}},setup(d){const t=d;var a=B(),i=D(()=>t.alignment=="right");return(n,u)=>(s(),r("div",{class:"message-piece",style:l({flexDirection:o(i)?"row-reverse":"row",paddingLeft:o(i)?"0":"10px",paddingRight:o(i)?"10px":"0"})},[R(A,{class:"avatar",url:t.avatarURL},null,8,["url"]),e("div",{class:"message-box",style:l({textAlign:t.alignment})},[e("div",{class:"message-head",style:l({flexDirection:o(i)?"row-reverse":"row"})},[t.nickname?(s(),r("div",G,m(t.nickname),1)):c("",!0),(s(!0),r(_,null,h(t.userTag,p=>(s(),v(F,{tag:p.tag,color:p.color},null,8,["tag","color"]))),256)),t.time?(s(),r("div",j,m(t.time),1)):c("",!0)],4),e("div",E,[e("mdui-card",{onClick:u[0]||(u[0]=p=>t.routePath?o(a).push(t.routePath):void 0),style:l({backgroundColor:t.backgroundColor,cursor:t.routePath?"pointer":""}),href:t.href},[I(n.$slots,"default",{},void 0,!0)],12,H)])],4)],4))}}),J=V(W,[["__scopeId","data-v-7e228445"]]),K={class:"content"},O={class:"chat-box"},Q={"scroll-target":".chat-message-container"},X={class:"chat-message-container"},Y={key:0,class:"no-message"},Z=z({__name:"MessageDetailView",setup(d){return P(),S(()=>setTimeout(x,0,".chat-message-container")),T(()=>x(".chat-message-container")),(t,a)=>{const i=N("RouterLink");return s(),r("div",K,[a[3]||(a[3]=e("h1",null,"站内消息",-1)),e("div",{class:"chat-container",style:l({height:o(q)+"px"})},[o(g)?(s(),v(U,{key:0,style:l({width:o(g)?"250px":"100%",minWidth:o(g)?"250px":"100%"})},null,8,["style"])):c("",!0),e("div",O,[e("mdui-top-app-bar",Q,[R(i,{to:"/message"},{default:y(()=>a[0]||(a[0]=[e("mdui-button-icon",null,[e("mdui-icon-arrow-back")],-1)])),_:1,__:[0]}),e("mdui-top-app-bar-title",null," 聊天："+m(t.$route.params.id),1),a[1]||(a[1]=e("mdui-button-icon",null,[e("mdui-icon-more-vert")],-1))]),e("div",X,[(s(!0),r(_,null,h(o(b),n=>(s(),v(J,{alignment:n.me?"right":"left",nickname:n.nickname,time:n.time,backgroundColor:n.me?"rgb(var(--mdui-color-secondary-container))":"rgb(var(--mdui-color-surface-container-low)"},{default:y(()=>[n.messageType=="text"?(s(!0),r(_,{key:0},h(n.text.split(`
`),u=>(s(),r("p",null,m(u),1))),256)):c("",!0)]),_:2},1032,["alignment","nickname","time","backgroundColor"]))),256)),o(b).length==0?(s(),r("p",Y,"暂无消息")):c("",!0)]),a[2]||(a[2]=e("mdui-text-field",{placeholder:"发送消息",autosize:"","max-rows":"3"},[e("mdui-button-icon",{slot:"end-icon"},[e("mdui-icon-send")])],-1))])],4)])}}}),ie=V(Z,[["__scopeId","data-v-66d78477"]]);export{ie as default};
