import{d as N,P as x,Q as v,K as f,C as u,N as A,S as C,T as p,c as l,a as s,f as i,u as t,b as R,t as g,e as d,v as V,w as k,r as L,o,_ as w}from"./index-Bnuaqtwk.js";import{_ as B}from"./UserAvatar.vue_vue_type_script_setup_true_lang-BU9SeMwS.js";import{_ as I}from"./UserTagPack.vue_vue_type_script_setup_true_lang-BOcgNSMg.js";import"./UserTag.vue_vue_type_style_index_0_lang-C4EIpDom.js";const S={class:"content"},T={class:"user-head"},U={class:"user-head-info"},$={class:"user-head-nickname"},M={class:"user-head-username"},P={class:"user-info"},Q=["value"],j={key:1,disabled:""},q=N({__name:"AccountView",setup(D){var b=x(),a=b.params.id,h=v()&&f().get("username")==a,y=v()&&f().get("username")!=a,n=u({objectId:"",nickname:"",username:"",createdAt:"",updatedAt:""}),r=u(""),m=u([]);return A(!0,a).then(c=>{n.value=c.toJSON(),C(!0,a).then(e=>{e.getACL().getPublicReadAccess()&&(r.value=e.get("email"))}),p.equalTo("username",a),p.find().then(e=>{e.length==1&&(m.value=e[0].get("roles"))})}),(c,e)=>{const _=L("RouterLink");return o(),l("div",S,[e[4]||(e[4]=s("h1",null,"账号",-1)),s("div",T,[i(B,{class:"user-avatar",url:t(n).avatarURL},null,8,["url"]),s("div",U,[s("span",$,[R(g(t(n).nickname)+" ",1),i(I,{roles:t(m)},null,8,["roles"])]),e[0]||(e[0]=s("br",null,null,-1)),s("span",M,g(t(a)),1)])]),s("div",P,[t(r)?(o(),l("mdui-text-field",{key:0,class:"user-email",variant:"outlined",readonly:"",label:"邮箱",value:t(r)},null,8,Q)):d("",!0),e[3]||(e[3]=s("br",null,null,-1)),t(y)?(o(),l("mdui-button",j,"添加好友")):d("",!0),t(h)?(o(),V(_,{key:2,to:"/myaccount"},{default:k(()=>e[1]||(e[1]=[s("mdui-button",null,"个人视角",-1)])),_:1,__:[1]})):d("",!0),i(_,{to:`/history/${t(a)}`},{default:k(()=>e[2]||(e[2]=[s("mdui-button",null,"历史对局",-1)])),_:1,__:[2]},8,["to"])])])}}}),z=w(q,[["__scopeId","data-v-6739adde"]]);export{z as default};
