import{d as f,C as u,ah as p,c as i,a as t,al as m,e as _,am as w,u as r,t as c,an as b,ao as x,ag as P,o as d,_ as R}from"./index-Cm6EkZQn.js";const V={class:"content"},k={slot:"helper",class:"error-info"},C=["disabled"],g={key:0},y=f({__name:"PreResetPasswordView",setup(B){var s=u(""),a=u(""),l=u(!1);p(s,()=>{a.value="",l.value=!1});function v(){if(a.value="",l.value=!1,s.value){if(!x(s.value)){a.value="请输入有效的邮箱地址。";return}}else{a.value="请输入绑定的邮箱地址。";return}P.User.requestPasswordReset(s.value).then(()=>{l.value=!0}).catch(o=>{o.code===205?a.value="找不到绑定该邮箱的用户。":a.value=`发生错误。错误码： ${o.code}。错误信息： ${o.message}。如必要，请联系管理员以获取帮助。`})}return(o,e)=>(d(),i("div",V,[e[2]||(e[2]=t("h1",null,"重置密码",-1)),e[3]||(e[3]=t("p",null,"此功能要求账号已绑定邮箱。",-1)),e[4]||(e[4]=t("p",null,"请输入账号绑定的邮箱地址，我们将向该邮箱发送重置密码的链接。",-1)),m(t("mdui-text-field",{label:"邮箱","onUpdate:modelValue":e[0]||(e[0]=n=>b(s)?s.value=n:s=n),type:"email",required:""},[t("span",k,c(r(a)),1)],512),[[w,r(s)]]),e[5]||(e[5]=t("br",null,null,-1)),t("mdui-button",{disabled:!r(s),onClick:e[1]||(e[1]=n=>v())}," 发送重置链接 ",8,C),r(l)?(d(),i("p",g,"重置链接已发送到您的邮箱，请检查您的收件箱。")):_("",!0)]))}}),q=R(y,[["__scopeId","data-v-5a901932"]]);export{q as default};
