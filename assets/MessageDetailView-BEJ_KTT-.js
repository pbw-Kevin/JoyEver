import"./arrow-back-oj6zKisw.js";import{s as $,g as w,h as C,j as M,k as L,d as z,m as R,p as V,c as o,o as s,n as l,u as a,f as B,a as t,e as d,t as c,F as h,q as _,v,x as D,_ as I,y as P,z as T,G as y,A as S,l as g,w as b,r as A,B as x}from"./index-0UQCc8bI.js";import{M as N,c as U}from"./height-w3ahtCQm.js";import{_ as q}from"./UserAvatar.vue_vue_type_script_setup_true_lang-xkkGVkeT.js";import{_ as F}from"./UserTag.vue_vue_type_style_index_0_lang-WhtruuBO.js";let f=class extends M{render(){return L('<path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/>')}};f.styles=$;f=w([C("mdui-icon-more-vert")],f);let k=class extends M{render(){return L('<path d="M2.01 21 23 12 2.01 3 2 10l15 2-15 2z"/>')}};k.styles=$;k=w([C("mdui-icon-send")],k);const G={key:0,class:"message-nickname"},j={key:1,class:"message-time"},E={class:"message-card"},H=["href"],W=z({__name:"MessagePiece",props:{avatarURL:{},nickname:{},userTag:{},time:{},alignment:{},backgroundColor:{},href:{},routePath:{}},setup(u){const e=u;var r=R(),i=V(()=>e.alignment=="right");return(n,m)=>(s(),o("div",{class:"message-piece",style:l({flexDirection:a(i)?"row-reverse":"row",paddingLeft:a(i)?"0":"10px",paddingRight:a(i)?"10px":"0"})},[B(q,{class:"avatar",url:e.avatarURL},null,8,["url"]),t("div",{class:"message-box",style:l({textAlign:e.alignment})},[t("div",{class:"message-head",style:l({flexDirection:a(i)?"row-reverse":"row"})},[e.nickname?(s(),o("div",G,c(e.nickname),1)):d("",!0),(s(!0),o(h,null,_(e.userTag,p=>(s(),v(F,{tag:p.tag,color:p.color},null,8,["tag","color"]))),256)),e.time?(s(),o("div",j,c(e.time),1)):d("",!0)],4),t("div",E,[t("mdui-card",{onClick:m[0]||(m[0]=p=>e.routePath?a(r).push(e.routePath):void 0),style:l({backgroundColor:e.backgroundColor,cursor:e.routePath?"pointer":""}),href:e.href},[D(n.$slots,"default",{},void 0,!0)],12,H)])],4)],4))}}),J=I(W,[["__scopeId","data-v-d282652d"]]),K={class:"content"},O={class:"chat-box"},Q={"scroll-target":".chat-message-container"},X={class:"chat-message-container"},Y={key:0,class:"no-message"},Z=["placeholder"],ee=z({__name:"MessageDetailView",setup(u){return P(),T(()=>setTimeout(y,0,".chat-message-container")),S(()=>y(".chat-message-container")),(e,r)=>{const i=A("RouterLink");return s(),o("div",K,[t("h1",null,c(e.$t("message.title")),1),t("div",{class:"chat-container",style:l({height:a(U)+"px"})},[a(g)?(s(),v(N,{key:0,style:l({width:a(g)?"250px":"100%",minWidth:a(g)?"250px":"100%"})},null,8,["style"])):d("",!0),t("div",O,[t("mdui-top-app-bar",Q,[B(i,{to:"/message"},{default:b(()=>[...r[0]||(r[0]=[t("mdui-button-icon",null,[t("mdui-icon-arrow-back")],-1)])]),_:1}),t("mdui-top-app-bar-title",null,c(e.$t("chat.titleInTopAppBar",{user:e.$route.params.id})),1),r[1]||(r[1]=t("mdui-button-icon",null,[t("mdui-icon-more-vert")],-1))]),t("div",X,[(s(!0),o(h,null,_(a(x),n=>(s(),v(J,{alignment:n.me?"right":"left",nickname:n.nickname,time:n.time,backgroundColor:n.me?"rgb(var(--mdui-color-secondary-container))":"rgb(var(--mdui-color-surface-container-low)"},{default:b(()=>[n.messageType=="text"?(s(!0),o(h,{key:0},_(n.text.split(`
`),m=>(s(),o("p",null,c(m),1))),256)):d("",!0)]),_:2},1032,["alignment","nickname","time","backgroundColor"]))),256)),a(x).length==0?(s(),o("p",Y,c(e.$t("chat.message.no.title")),1)):d("",!0)]),t("mdui-text-field",{placeholder:e.$t("chat.operation.send"),autosize:"","max-rows":"3"},[...r[2]||(r[2]=[t("mdui-button-icon",{slot:"end-icon"},[t("mdui-icon-send")],-1)])],8,Z)])],4)])}}}),le=I(ee,[["__scopeId","data-v-b13f94b2"]]);export{le as default};
