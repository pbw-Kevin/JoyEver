import{d as N,O as x,P as f,K as v,C as u,N as A,Q as C,L as p,c as l,a as t,f as i,u as s,b as L,t as g,e as d,v as R,w as k,r as V,o,_ as w}from"./index-Ba872Nz0.js";import{_ as B}from"./UserAvatar.vue_vue_type_script_setup_true_lang-BGgSBCfs.js";import{_ as I}from"./UserTagPack.vue_vue_type_script_setup_true_lang-BtlnGKW4.js";import"./UserTag.vue_vue_type_style_index_0_lang-DqmqJ0Rp.js";const U={class:"content"},$={class:"user-head"},M={class:"user-head-info"},O={class:"user-head-nickname"},P={class:"user-head-username"},Q={class:"user-info"},S=["value"],T={key:1},j=N({__name:"AccountView",setup(q){var b=x(),a=b.params.id,h=f()&&v().get("username")==a,y=f()&&v().get("username")!=a,n=u({objectId:"",nickname:"",username:"",createdAt:"",updatedAt:""}),r=u(""),m=u([]);return A(!0,a).then(c=>{n.value=c.toJSON(),C(!0,a).then(e=>{e.getACL().getPublicReadAccess()&&(r.value=e.get("email"))}),p.equalTo("username",a),p.find().then(e=>{e.length==1&&(m.value=e[0].get("roles"))})}),(c,e)=>{const _=V("RouterLink");return o(),l("div",U,[e[4]||(e[4]=t("h1",null,"账号",-1)),t("div",$,[i(B,{class:"user-avatar",url:s(n).avatarURL},null,8,["url"]),t("div",M,[t("span",O,[L(g(s(n).nickname)+" ",1),i(I,{roles:s(m)},null,8,["roles"])]),e[0]||(e[0]=t("br",null,null,-1)),t("span",P,g(s(a)),1)])]),t("div",Q,[s(r)?(o(),l("mdui-text-field",{key:0,class:"user-email",variant:"outlined",readonly:"",label:"邮箱",value:s(r)},null,8,S)):d("",!0),e[3]||(e[3]=t("br",null,null,-1)),s(y)?(o(),l("mdui-button",T,"添加好友")):d("",!0),s(h)?(o(),R(_,{key:2,to:"/myaccount"},{default:k(()=>e[1]||(e[1]=[t("mdui-button",null,"个人视角",-1)])),_:1,__:[1]})):d("",!0),i(_,{to:`/history/${s(a)}`},{default:k(()=>e[2]||(e[2]=[t("mdui-button",null,"历史对局",-1)])),_:1,__:[2]},8,["to"])])])}}}),z=w(j,[["__scopeId","data-v-6f4ba9e5"]]);export{z as default};
