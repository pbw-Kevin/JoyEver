import{d as f,C as u,ai as m,c as i,a as t,al as c,e as _,t as d,am as w,u as r,ak as P,an as b,ag as k,o as v,_ as x}from"./index-Bgua-Nis.js";const R={class:"content"},V={slot:"helper",class:"error-info"},C=["disabled"],g={key:0},y=f({__name:"PreResetPasswordView",setup(B){var s=u(""),a=u(""),o=u(!1);m(s,()=>{a.value="",o.value=!1});function p(){if(a.value="",o.value=!1,s.value){if(!b(s.value)){a.value="请输入有效的邮箱地址。";return}}else{a.value="请输入绑定的邮箱地址。";return}k.User.requestPasswordReset(s.value).then(()=>{o.value=!0}).catch(l=>{l.code===205?a.value="找不到绑定该邮箱的用户。":a.value=`发生错误。错误码： ${l.code}。错误信息： ${l.message}。如必要，请联系管理员以获取帮助。`})}return(l,e)=>(v(),i("div",R,[t("h1",null,d(l.$t("account.operation.resetPassword")),1),e[2]||(e[2]=t("p",null,"此功能要求账号已绑定邮箱。",-1)),e[3]||(e[3]=t("p",null,"请输入账号绑定的邮箱地址，我们将向该邮箱发送重置密码的链接。",-1)),c(t("mdui-text-field",{label:"邮箱","onUpdate:modelValue":e[0]||(e[0]=n=>P(s)?s.value=n:s=n),type:"email",required:""},[t("span",V,d(r(a)),1)],512),[[w,r(s)]]),e[4]||(e[4]=t("br",null,null,-1)),t("mdui-button",{disabled:!r(s),onClick:e[1]||(e[1]=n=>p())}," 发送重置链接 ",8,C),r(o)?(v(),i("p",g,"重置链接已发送到您的邮箱，请检查您的收件箱。")):_("",!0)]))}}),$=x(y,[["__scopeId","data-v-d2a973d1"]]);export{$ as default};
