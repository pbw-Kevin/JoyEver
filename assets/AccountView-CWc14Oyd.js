import{d as y,P as N,Q as m,K as _,C as l,N as x,S as A,T as v,c as i,a as s,f,u as t,b as C,t as p,e as n,v as R,w as V,r as L,o,_ as w}from"./index-D2whVdz8.js";import{_ as B}from"./UserAvatar.vue_vue_type_script_setup_true_lang-D1ujuP8C.js";import{_ as I}from"./UserTagPack.vue_vue_type_script_setup_true_lang-1DfN4Hdb.js";import"./UserTag.vue_vue_type_style_index_0_lang-Dla5qH5b.js";const S={class:"content"},T={class:"user-head"},U={class:"user-head-info"},M={class:"user-head-nickname"},P={class:"user-head-username"},Q={class:"user-info"},$=["value"],j={key:1,disabled:""},q=y({__name:"AccountView",setup(D){var g=N(),a=g.params.id,h=m()&&_().get("username")==a,k=m()&&_().get("username")!=a,r=l({objectId:"",nickname:"",username:"",createdAt:"",updatedAt:""}),u=l(""),d=l([]);return x(!0,a).then(c=>{r.value=c.toJSON(),A(!0,a).then(e=>{e.getACL().getPublicReadAccess()&&(u.value=e.get("email"))}),v.equalTo("username",a),v.find().then(e=>{e.length==1&&(d.value=e[0].get("roles"))})}),(c,e)=>{const b=L("RouterLink");return o(),i("div",S,[e[4]||(e[4]=s("h1",null,"账号",-1)),s("div",T,[f(B,{class:"user-avatar",url:t(r).avatarURL},null,8,["url"]),s("div",U,[s("span",M,[C(p(t(r).nickname)+" ",1),f(I,{roles:t(d)},null,8,["roles"])]),e[0]||(e[0]=s("br",null,null,-1)),s("span",P,p(t(a)),1)])]),s("div",Q,[t(u)?(o(),i("mdui-text-field",{key:0,class:"user-email",variant:"outlined",readonly:"",label:"邮箱",value:t(u)},null,8,$)):n("",!0),e[3]||(e[3]=s("br",null,null,-1)),t(k)?(o(),i("mdui-button",j,"添加好友")):n("",!0),t(h)?(o(),R(b,{key:2,to:"/myaccount"},{default:V(()=>e[1]||(e[1]=[s("mdui-button",null,"个人视角",-1)])),_:1,__:[1]})):n("",!0),n("",!0)])])}}}),z=w(q,[["__scopeId","data-v-8c13acdc"]]);export{z as default};
