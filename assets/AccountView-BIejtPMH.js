import{d as N,O as A,P as v,K as f,C as d,Q as n,S as h,c as _,a as t,t as o,f as p,u as s,b as C,e as r,v as V,w,r as L,o as u,_ as R}from"./index-0UQCc8bI.js";import{_ as $}from"./UserAvatar.vue_vue_type_script_setup_true_lang-xkkGVkeT.js";import{_ as B}from"./UserTagPack.vue_vue_type_script_setup_true_lang-Zhfi8fPs.js";import"./UserTag.vue_vue_type_style_index_0_lang-WhtruuBO.js";const x={class:"content"},I={class:"user-head"},O={class:"user-head-info"},S={class:"user-head-nickname"},j={class:"user-head-username"},M={class:"user-info"},P=["label","value"],Q={key:1,disabled:""},D=N({__name:"AccountView",setup(J){var g=A(),l=g.params.id,b=v()&&f().get("username")==l,k=v()&&f().get("username")!=l,i=d({objectId:"",nickname:"",username:"",createdAt:"",updatedAt:""}),c=d(""),m=d([]);return n.get("userInfo").then,n.get("userInfo").then(a=>{if(!a){h("该用户不存在或出现异常",!0);return}i.value=a.toJSON(),n.get("email").then(e=>{if(!e){h("该用户不存在或出现异常",!0);return}e.getACL()?.getPublicReadAccess()&&(c.value=e.get("email"))}),n.get("userRoles").then(e=>{e&&(m.value=e.get("roles"))})}),(a,e)=>{const y=L("RouterLink");return u(),_("div",x,[t("h1",null,o(a.$t("account.title")),1),t("div",I,[p($,{class:"user-avatar",url:s(i).avatarURL},null,8,["url"]),t("div",O,[t("span",S,[C(o(s(i).nickname)+" ",1),p(B,{roles:s(m)},null,8,["roles"])]),e[0]||(e[0]=t("br",null,null,-1)),t("span",j,o(s(l)),1)])]),t("div",M,[s(c)?(u(),_("mdui-text-field",{key:0,class:"user-email",variant:"outlined",readonly:"",label:a.$t("account.email.title"),value:s(c)},null,8,P)):r("",!0),e[1]||(e[1]=t("br",null,null,-1)),s(k)?(u(),_("mdui-button",Q,"添加好友")):r("",!0),s(b)?(u(),V(y,{key:2,to:"/myaccount"},{default:w(()=>[t("mdui-button",null,o(a.$t("account.view.my")),1)]),_:1})):r("",!0),r("",!0)])])}}}),z=R(D,[["__scopeId","data-v-6254c8bb"]]);export{z as default};
