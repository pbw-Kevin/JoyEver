import{d as N,O as x,P as v,K as f,C as c,Q as r,S as p,c as _,a as s,f as g,u as t,b as A,t as h,e as n,v as C,w as V,r as L,o,_ as R}from"./index-Cm6EkZQn.js";import{_ as w}from"./UserAvatar.vue_vue_type_script_setup_true_lang-C_Rwi-TA.js";import{_ as B}from"./UserTagPack.vue_vue_type_script_setup_true_lang-_6DEb6IR.js";import"./UserTag.vue_vue_type_style_index_0_lang-DryoKvex.js";const I={class:"content"},O={class:"user-head"},S={class:"user-head-info"},j={class:"user-head-nickname"},M={class:"user-head-username"},P={class:"user-info"},Q=["value"],$={key:1,disabled:""},D=N({__name:"AccountView",setup(J){var k=x(),u=k.params.id,b=v()&&f().get("username")==u,y=v()&&f().get("username")!=u,l=c({objectId:"",nickname:"",username:"",createdAt:"",updatedAt:""}),i=c(""),m=c([]);return r.get("userInfo").then,r.get("userInfo").then(d=>{if(!d){p("该用户不存在或出现异常",!0);return}l.value=d.toJSON(),r.get("email").then(e=>{var a;if(!e){p("该用户不存在或出现异常",!0);return}(a=e.getACL())!=null&&a.getPublicReadAccess()&&(i.value=e.get("email"))}),r.get("userRoles").then(e=>{e&&(m.value=e.get("roles"))})}),(d,e)=>{const a=L("RouterLink");return o(),_("div",I,[e[4]||(e[4]=s("h1",null,"账号",-1)),s("div",O,[g(w,{class:"user-avatar",url:t(l).avatarURL},null,8,["url"]),s("div",S,[s("span",j,[A(h(t(l).nickname)+" ",1),g(B,{roles:t(m)},null,8,["roles"])]),e[0]||(e[0]=s("br",null,null,-1)),s("span",M,h(t(u)),1)])]),s("div",P,[t(i)?(o(),_("mdui-text-field",{key:0,class:"user-email",variant:"outlined",readonly:"",label:"邮箱",value:t(i)},null,8,Q)):n("",!0),e[3]||(e[3]=s("br",null,null,-1)),t(y)?(o(),_("mdui-button",$,"添加好友")):n("",!0),t(b)?(o(),C(a,{key:2,to:"/myaccount"},{default:V(()=>e[1]||(e[1]=[s("mdui-button",null,"个人视角",-1)])),_:1,__:[1]})):n("",!0),n("",!0)])])}}}),z=R(D,[["__scopeId","data-v-3711261e"]]);export{z as default};
