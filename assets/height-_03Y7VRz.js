import{s as p,g,h as _,j as f,k,d as C,c as i,u as c,m as I,b as M,x,v as L,e as d,t as u,o as t,a as n,f as l,w as b,M as y,I as A,i as $,F as B,q as S,J as V,_ as H,p as T,C as N}from"./index-Bgua-Nis.js";import{_ as R}from"./UserAvatar.vue_vue_type_script_setup_true_lang-OjNUG--e.js";let m=class extends f{render(){return k('<path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>')}};m.styles=p;m=g([_("mdui-icon-search")],m);let h=class extends f{render(){return k('<path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/>')}};h.styles=p;h=g([_("mdui-icon-warning")],h);let v=class extends f{render(){return k('<path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-7 9h-2V5h2v6zm0 4h-2v-2h2v2z"/>')}};v.styles=p;v=g([_("mdui-icon-announcement")],v);const U=["disabled","active"],D={key:0,slot:"icon"},E={key:2,slot:"description"},w=C({__name:"UserCard",props:{nickname:{},username:{},isAnnouncement:{type:Boolean},avatarURL:{},active:{type:Boolean},disabled:{type:Boolean},infoText:{},infoCount:{}},setup(o){const r=I(),e=o;return(s,a)=>(t(),i("mdui-list-item",{alignment:"center",disabled:e.disabled,active:e.active,onClick:a[0]||(a[0]=O=>c(r).push(e.isAnnouncement?"/announcement":`/message/${e.username}`))},[M(u(e.nickname)+" ",1),x(s.$slots,"default"),e.isAnnouncement?(t(),i("mdui-icon-announcement",D)):(t(),L(R,{key:1,slot:"icon",url:e.avatarURL},null,8,["url"])),e.infoText?(t(),i("span",E,u(e.infoText),1)):d("",!0)],8,U))}}),F={class:"chat-list"},W=["label"],j={class:"chat-list-body"},q={key:0,class:"friend-list"},J={key:0,class:"chat-disabled"},G={class:"chat-disabled-info"},K=C({__name:"MessageChatList",props:{list:{}},setup(o){const r=o;return(e,s)=>(t(),i("div",F,[n("mdui-text-field",{label:e.$t("search.title"),disabled:""},[...s[0]||(s[0]=[n("mdui-button-icon",{slot:"end-icon"},[n("mdui-icon-search")],-1)])],8,W),n("div",j,[n("mdui-list",null,[l(w,{nickname:e.$t("announcement.title"),isAnnouncement:"",active:e.$route.name=="Announcement"},{default:b(()=>[l(y,{msgcnt:c(A)},null,8,["msgcnt"])]),_:1},8,["nickname","active"]),s[1]||(s[1]=n("mdui-divider",null,null,-1)),c($)?(t(),i("div",q,[(t(!0),i(B,null,S(r.list||c(V),a=>(t(),L(w,{username:a.username,nickname:a.nickname||a.username,active:e.$route.params.id==a.username},{default:b(()=>[l(y,{msgcnt:a.msgcnt},null,8,["msgcnt"])]),_:2},1032,["username","nickname","active"]))),256))])):d("",!0)]),c($)?d("",!0):(t(),i("div",J,[n("div",G,[s[2]||(s[2]=n("mdui-icon-warning",{class:"chat-disabled-icon"},null,-1)),n("p",null,u(e.$t("message.tips.chatDisabledBeforeLogin")),1)])]))])]))}}),ee=H(K,[["__scopeId","data-v-77ebf09d"]]);var z=N(window.innerHeight);window.addEventListener("resize",()=>{z.value=window.innerHeight});var ne=T(()=>z.value-240);export{ee as M,ne as c};
